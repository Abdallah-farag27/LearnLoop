<div
    class="flex justify-center items-center min-h-screen bg-gradient-to-b from-blue-50 to-indigo-100">
    <div
        class="w-full max-w-md bg-white shadow-lg rounded-2xl p-6">
        <!-- Header -->
        <div
            class="flex flex-col items-center mb-6">
            <img [src]="user?.img || 'assets/default-avatar.png'"
                alt="Profile"
                class="w-24 h-24 rounded-full shadow-md object-cover mb-4" />
            <h2
                class="text-2xl font-semibold text-gray-800">
                {{
                user?.username
                }}</h2>
            <span
                class="mt-2 px-3 py-1 rounded-full text-sm font-medium"
                [class.bg-green-100]="user?.admin"
                [class.text-green-700]="user?.admin"
                [class.bg-blue-100]="!user?.admin"
                [class.text-blue-700]="!user?.admin">
                {{ user?.admin
                ? 'Admin' :
                'User' }}
            </span>
        </div>

        <!-- Profile Form -->
        <form *ngIf="user"
            class="space-y-4">
            <!-- Email -->
            <div>
                <label
                    class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                <input
                    [(ngModel)]="user.email"
                    name="email"
                    [readonly]="!editing"
                    class="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring focus:ring-indigo-300"
                    type="email" />
            </div>

            <!-- Username -->
            <div>
                <label
                    class="block text-sm font-medium text-gray-700 mb-1">Username</label>
                <input
                    [(ngModel)]="user.username"
                    name="username"
                    [readonly]="!editing"
                    class="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring focus:ring-indigo-300"
                    type="text" />
            </div>

            <!-- Created At -->
            <div>
                <label
                    class="block text-sm font-medium text-gray-700 mb-1">Created
                    At</label>
                <input
                    [value]="user.createdAt | date: 'medium'"
                    readonly
                    class="w-full border rounded-lg px-3 py-2 bg-gray-100 text-gray-600" />
            </div>

            <!-- Updated At -->
            <div>
                <label
                    class="block text-sm font-medium text-gray-700 mb-1">Last
                    Updated</label>
                <input
                    [value]="user.updatedAt | date: 'medium'"
                    readonly
                    class="w-full border rounded-lg px-3 py-2 bg-gray-100 text-gray-600" />
            </div>

            <!-- Buttons -->
            <div
                class="flex justify-end space-x-3 pt-4">
                <button
                    type="button"
                    (click)="toggleEdit()"
                    class="px-4 py-2 rounded-lg text-sm font-medium border border-indigo-500 text-indigo-600 hover:bg-indigo-50 transition">
                    {{ editing
                    ? 'Cancel'
                    : 'Edit'
                    }}
                </button>
                <button
                    *ngIf="editing"
                    type="button"
                    (click)="saveChanges()"
                    class="px-4 py-2 rounded-lg text-sm font-medium text-white bg-gradient-to-r from-cyan-500 to-indigo-500 hover:opacity-90 transition">
                    Save
                </button>
            </div>
        </form>
    </div>
</div>